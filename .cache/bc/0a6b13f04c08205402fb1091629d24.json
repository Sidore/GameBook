{"id":"index.html","dependencies":[{"name":"./App.tsx","dynamic":true,"resolved":"/Users/v.sydorenko/Documents/GameBook/src/client/App.tsx","parent":"/Users/v.sydorenko/Documents/GameBook/src/client/index.html"},{"name":"/Users/v.sydorenko/Documents/GameBook/package.json","includedInParent":true,"mtime":1559915217000}],"generated":{"html":"<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <title>React + TypeScript</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n</head>\n<body>\n  <div id=\"main\"></div>\n\n  <input type=\"text\" id=\"login\"> login <br>\n  <input type=\"text\" id=\"password\"> pass <br>\n  <input type=\"text\" id=\"email\"> email <br>\n  <input type=\"text\" id=\"room\"> new Room <br>\n\n  <button id=\"register\">register</button>\n  <button id=\"loginB\">login</button>\n\n  <!-- <button id=\"sender\">send json</button> -->\n  <button id=\"game\">try get room</button>\n  <button id=\"room1\">try create room</button>\n  <p id=\"output\">\n\n  </p>\n\n  <ul id=\"list\">\n\n  </ul>\n\n    <script>var token = \"\";\nvar senderButton1 = document.getElementById(\"loginB\");\n\nsenderButton1.onclick = function () {\n  var req = new XMLHttpRequest();\n  req.open('POST', 'http://localhost:2503/api/auth');\n  req.setRequestHeader(\"Content-Type\", \"application/json\");\n\n  req.onreadystatechange = function () {\n    if (req.readyState == 4) {\n      // if(req.status == 200) {\n      document.getElementById(\"output\").innerHTML = req.responseText;\n      console.log(JSON.parse(req.responseText));\n      token = JSON.parse(req.responseText).token; // }\n    }\n  };\n\n  console.log(\"login\");\n  req.send(JSON.stringify({\n    email: document.getElementById(\"email\").value,\n    password: document.getElementById(\"password\").value\n  }));\n};\n\nvar senderButton = document.getElementById(\"register\");\n\nsenderButton.onclick = function () {\n  var req = new XMLHttpRequest();\n  req.open('POST', 'http://localhost:2503/api/user');\n  req.setRequestHeader(\"Content-Type\", \"application/json\");\n\n  req.onreadystatechange = function () {\n    if (req.readyState == 4) {\n      // if(req.status == 200) {\n      document.getElementById(\"output\").innerHTML = req.responseText;\n      console.log(JSON.parse(req.responseText));\n      token = JSON.parse(req.responseText).token; // }\n    }\n  }; //   console.log({\n  //     login : document.getElementById(\"login\").value,\n  //     password : document.getElementById(\"password\").value,\n  //     email : document.getElementById(\"email\").value,\n  // });\n\n\n  req.send(JSON.stringify({\n    name: document.getElementById(\"login\").value,\n    password: document.getElementById(\"password\").value,\n    email: document.getElementById(\"email\").value\n  }));\n}; // let senderButton = document.getElementById(\"\");\n// senderButton.onclick = function(){\n//     let req = new XMLHttpRequest();\n//     req.open('POST', '/login'); \n//     req.setRequestHeader(\"Content-Type\", \"application/json\");\n//     req.onreadystatechange = function() {\n//     if (req.readyState == 4) {\n//         if(req.status == 200) {\n//             document.getElementById(\"output\").innerHTML = req.responseText;\n//             console.log(JSON.parse(req.responseText));\n//             token = JSON.parse(req.responseText).token;\n//         }\n//     }\n//     };\n//     req.send(JSON.stringify({\n//         login : document.getElementById(\"login\").value,\n//         password : document.getElementById(\"password\").value\n//     }));\n// }\n\n\nvar gameButton = document.getElementById(\"game\");\n\ngameButton.onclick = function () {\n  var req = new XMLHttpRequest();\n  req.open('GET', 'http://localhost:2503/api/gameroom');\n  req.setRequestHeader(\"Content-Type\", \"application/json\");\n  req.setRequestHeader(\"Authorization\", \"Bearer \" + token);\n\n  req.onreadystatechange = function () {\n    if (req.readyState == 4) {\n      if (req.status == 200) {\n        var response = JSON.parse(req.responseText);\n        var list = document.getElementById(\"list\");\n        response.forEach(function (element) {\n          var el = document.createElement(\"li\");\n          el.innerHTML = element.name;\n          list.appendChild(el);\n        }); //   .innerHTML = req.responseText;\n\n        if (response.redirect) {\n          setTimeout(function () {\n            window.location.assign(response.redirect);\n          }, 2000);\n        }\n      }\n    }\n  };\n\n  req.send();\n};\n\nvar senderButton2 = document.getElementById(\"room1\");\n\nsenderButton2.onclick = function () {\n  var req = new XMLHttpRequest();\n  req.open('POST', 'http://localhost:2503/api/gameroom');\n  req.setRequestHeader(\"Content-Type\", \"application/json\");\n  req.setRequestHeader(\"Authorization\", \"Bearer \" + token);\n\n  req.onreadystatechange = function () {\n    if (req.readyState == 4) {\n      // if(req.status == 200) {\n      document.getElementById(\"output\").innerHTML = req.responseText;\n      console.log(JSON.parse(req.responseText)); // }\n    }\n  };\n\n  req.send(JSON.stringify({\n    name: document.getElementById(\"room\").value\n  }));\n};</script>  \n  <script src=\"/fcd1e7eb6aa107e7a3e9f19604586683.js\"></script>\n</body>\n</html>"},"sourceMaps":null,"error":null,"hash":"054f099d221d581a8e3bfb2746ccad74","cacheData":{"env":{}}}